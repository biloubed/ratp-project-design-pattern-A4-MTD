<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

  </head>
  <body>
    <h1>design patern front</h1>
    <input type="number" name="" value="" id="interval" style="">
    <input type="submit" name="" value="envoyer" id="submit">
    <img id="twitos" class="twitPic" style="width:50px;height:50px;position:absolute;display:none" src="https://upload.wikimedia.org/wikipedia/fr/thumb/c/c8/Twitter_Bird.svg/1200px-Twitter_Bird.svg.png" alt="">
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
<script type="text/javascript">
var interval = $('#interval').val();
$('#submit').on('click',function(){
  $('#twitos').show();
  $('#interval').hide();
  $('#submit').hide();
  inter($('#interval').val());
});
console.log(interval);
document.addEventListener('keyup', function (e) {
    switch (e.code) {
        case 'ArrowUp':
        case 'ArrowLeft':
        case 'ArrowRight':
        case 'ArrowDown':
            imageManager.execute(e.code)
            break
    }
    //chek if method in imageManager exists
    if (imageManager.hasOwnProperty(e.code)) {
        imageManager.execute(e.code)
    }
})


let imageManager = {
    image: document.querySelector('.twitPic'),
    width: Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0),
    height:Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0),
    ArrowUp: function () {
        if (this.height == this.image.style.top) {
          this.image.style.top = this.image.offsetTop + 20 + "px"
        }else{
          this.image.style.top = this.image.offsetTop - 10 + "px"
        }
    },
    ArrowLeft: function () {
        console.log(this.image.style.left)
        this.image.style.left = this.image.offsetLeft - 10 + "px"
    },
    ArrowRight: function () {
        console.log(this.image.style.right)
        this.image.style.left = this.image.offsetLeft + 10 + "px"
    },
    ArrowDown: function () {
        console.log(this.image.style.bottom)
        this.image.style.top = this.image.offsetTop + 10 + "px"
    },
}

imageManager.execute = function (key) {
    let methodName = imageManager[key]
    /*let functionParams = [].splice.call(arguments, 1)*/
    return methodName.apply(imageManager)
}

function getRandomInt(max) {
    return Math.floor(Math.random() * Math.floor(max));
}
function inter(interval){
  setInterval(function() {
      let randomNum = getRandomInt(4)
      switch (randomNum) {
          case 0 :
             console.log('arrayUp');
             imageManager.ArrowUp()
             break;
          case 1 :
              console.log('arrayLeft');
              imageManager.ArrowLeft()
              break;
          case 2 :
              console.log('arrayRight');
              imageManager.ArrowRight()
              break;
          case 3 :
              console.log('arrayDown');
              imageManager.ArrowDown()
              break;
          default:
              console.log("termin√©")
      }
      imageManager.ArrowDown()
  }, interval)
}

</script>
</body>
</html>
